### 渲染层和逻辑层

小程序的渲染层和逻辑层分别由 2 个线程管理：

- 渲染层的界面使用了 WebView 进行渲染；
- 逻辑层采用 JsCore 线程运行 JS 脚本。

一个小程序存在多个界面，所以渲染层存在多个 WebView 线程，这两个线程的通信会经由微信客户端(`native`)做中转，逻辑层发送网络请求也经由 Native 转发，小程序的通信模型下图所示。

![](https://gcy-1306312261.cos.ap-chengdu.myqcloud.com/blog/20230612182147.png)

小程序的逻辑层和渲染层是分开的，逻辑层运行在 JSCore 中，并没有一个完整浏览器对象，因而缺少相关的 DOM API 和 BOM API。这一区别导致了前端开发非常熟悉的一些库，例如 jQuery、 Zepto 等，在小程序中是无法运行的
