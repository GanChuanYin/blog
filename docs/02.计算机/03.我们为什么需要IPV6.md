---
title: 我们为什么需要IPV6
date: 2021-11-15 15:33:34
permalink: /pages/a4fd98/
categories:
  - 计算机
  - 网络
tags:
  - 网络
---

###  IPv4 与 IPv6 

IPv4地址由**32位**二进制组成 理论最大值为2^32约等于43亿

![](https://qiniu.espe.work/blog/20211115160218.png)

众所周知，32位的IPv4地址已经基本耗尽（这里的耗尽只是说的分配完了，实际上有相当一部分并没有投入到使用中），新一代的网络协议--IPv6采用**128位**的地址长度拥有更大的地址空间，2^128约等于3.4e+38。如此大的地址空间，可以给地球上的每粒沙子分配一个IPv6地址。



IPv6的地址是128位。不过，这样写显然不太方便（一行都写不下）。所以，通常用十六进制来写，也就缩短成32位。

![](https://qiniu.espe.work/blog/20211115160404.png)

32位会分为8组，每组4位。

所以，下面这样的，就是一个标准的、合法的IPv6地址示例：

**2001:0db8:85a3:08d3:1319:8a2e:0370:7344**

其中 每组开头的0可以省略，就变成了2001:DB8:2de:**0**:**0**:**0**:**0**:e13

更进一步的，如果有一组或连续几组都是0，那么可以简写成“::”，也就是：

2001:DB8:2de::e13

**注意，一个IPv6地址，只能有一个“::”。**

为什么呢？很简单，你看下面这四个地址，如果所有0全都缩写，会变成什么样？

2001:0000:0000:0000:0000:25de:0000:cade

2001:0000:0000:0000:25de:0000:0000:cade

2001:0000:0000:25de:0000:0000:0000:cade

2001:0000:25de:0000:0000:0000:0000:cade

是的，都是2001::25de::cade，冲突了。所以，这个地址是非法的，不允许存在的。



### **为什么IPv6没有迅速取代v4？**



既然IPv6优点这么多，为什么它问世已经20年了，还是没有完全替代IPv4呢？

这里面的水就很深了。。。说白了，主要还是和**利益**有关。

如果按照本世纪初专家们的预测，我们IPv4的地址早已枯竭几万次了。

但是，一直挺到现在，大家仍然还在用IPv4，对老百姓来说，并没有因为地址不够而无法上网。

这是为什么呢？ 就是因为除了IPv6之外，我们还有一些技术，可以变相地缓解地址不足。

例如**NAT**（Network Address Translation，网络地址转换）。

NAT是什么意思？当我们在家里或公司上网时，你的电脑肯定有一个类似192.168.0.1的地址，这种地址属于私网地址，不属于公共的互联网地址。

![](https://qiniu.espe.work/blog/20211115155657.png)

每一个小的局域网，都会使用一个网段的私网地址，在与外界连接时，再变换成公网地址。这样一来，几十个或几百个电脑，都只需要一个公网地址。

甚至还可以私网套私网，NAT套NAT，一层一层套。这样一来，大大节约了公网IP地址数量。

正因为如此，才让我们“续命”到了今天，不至于无法上网。

但是，NAT这种方式也有很多缺点，虽然私网地址访问互联网地址方便，**但互联网地址访问私网地址就困难**了。

很多服务，都会受到限制，你只能通过复杂的设置才能解决（如：路由器端口映射），也会影响网络的处理效率。

![](https://qiniu.espe.work/blog/20211115155847.png)

物以稀为贵，地址越稀缺，就越值钱。掌握地址的人，就越开心。

谁开心？运营商和ISP（互联网服务提供商）。

他们就像是经销商，从上游（互联网域名与号码分配机构，ICANN）申请到IP地址，再卖给下游用户。稀缺没关系，反正，他一定能赚取更多的差价。

如果大家去找运营商或ISP买带宽，或者租服务器，带公共地址的，一定比不带公共地址的贵很多很多。
