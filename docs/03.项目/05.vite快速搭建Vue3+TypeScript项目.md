---
title: Viteå¿«é€Ÿæ­å»ºVue3+TypeScripté¡¹ç›®
date: 2021-03-04 09:50:56
permalink: /pages/33b18f/
meta:
  - name: keywords
  - content: å‰ç«¯,JavaScript,vite,vue,vue3,vue3.x,vite2.x,TypeScript,vueé¡¹ç›®,demo,vue demo,å“åº”å¼é¡¹ç›®
sticky: 3
categories:
  - é¡¹ç›®
  - Vite
  - Vue
  - TypeScript
tags:
  - Vite
  - Vue
  - TypeScript
---

# `vite` å¿«é€Ÿæ­å»º `Vue3` + `TypeScript` é¡¹ç›®

> å‚è€ƒé“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/348959109

ä»Šå¹´ 2 æœˆä»½ï¼Œ`vite` å‡ºäº† `2.x` ç‰ˆæœ¬ï¼ŒæŠ±ç€å­¦ä¸€å­¦çš„å¿ƒæ€å†³å®šå‡ºä¸ªç®€å•çš„é¡¹ç›®ï¼Œç»“åˆ `element-plus`ï¼Œä»¥åŠå°†ä¼šæˆä¸ºæ¯ä½å‰ç«¯å¿…ä¼šçš„ `typescript`ï¼Œå®ç°äº†å¦‚ä¸‹å†…å®¹ã€‚ä¸ºäº†èƒ½å¸®åˆ°æ¯ä¸€ä½æƒ³å­¦ä¹ çš„å¼€å‘è€…ï¼Œä»£ç å·²å¼€æºäº `GitHub` ä¸Š

<!-- more -->

## å…ˆæ”¾å‡ å¼ æ•ˆæœå›¾

æºç åœ°å€ï¼š`https://github.com/coderlyu/vite-frontend-template`ï¼ˆåˆ›ä½œä¸æ˜“ï¼Œæ¬¢è¿ç‚¹é¢— `star` å†èµ°ï¼‰

- ğŸ’¡Â `Vue 3.x`
- âš¡ï¸Â `Typescript`
- ğŸ› ï¸Â `Vite 2.x`
- ğŸ“¦Â `Vuex 4.x`
- ğŸ”©Â `Vue-Router 4.x`
- ğŸ”‘Â `Md5 And Sign Provide Transmission For Website Security`
- ğŸ‘Â `Mock In Development`
- ğŸ”–Â `Iconfont And Svg`
- ğŸ”Â `Element-plus UI`
- ğŸ“ŒÂ `And More...`

<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-1.png" alt="å›¾ç‰‡">
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-2.png" alt="å›¾ç‰‡">

<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-3.png" alt="å›¾ç‰‡">
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-4.png" alt="å›¾ç‰‡">
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-5.png" alt="å›¾ç‰‡">

## åˆå§‹åŒ–é¡¹ç›®

åˆ›å»ºé¡¹ç›®

```
yarn create @vitejs/app <project-name>

# æˆ–è€…
npm init @vitejs/app <project-name>
```

ä»¥åšä¸»è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼šæ–‡ä»¶åä¸º `vite-frontend-template`

```
npm init @vitejs/app vite-frontend-template
```

æ­¤æ—¶æŒ‰ä¸‹å›è½¦ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼Œåšä¸»é€‰æ‹©çš„æ˜¯ `vue-ts`ï¼ˆä¸Šä¸‹é”®å¯ä»¥åˆ‡æ¢é€‰æ‹©çš„æ¨¡æ¿ï¼‰ï¼ŒæŒ‰ä¸‹å›è½¦ä¹‹åä¼šç»™ä½ ä¸€ä¸ªé…ç½®å¥½äº†`typescript` çš„ `vite` é…ç½®æ¨¡æ¿
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-6.png" alt="å›¾ç‰‡">

ä¹‹å

```
  cd vite-frontend-template
  npm install
  npm run dev
```

å°±å¯ä»¥çœ‹åˆ°é¡¹ç›®æ¨¡æ¿è¿è¡Œä¹‹åçš„æ ·å­ï¼Œæœ¬åœ°è®¿é—® `http://localhost:3000/`
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-7.png" alt="å›¾ç‰‡">

## å®‰è£… `vue-router`ï¼Œ`vuex`

```
npm i vue-router@next vuex@next
```

### `vue-router`

åœ¨ `src` ç›®å½•ä¸‹æ–°å»º `router/index.ts`

```js
import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'
import HelloWorld from '../components/HelloWorld.vue'
const routes: Array<RouteRecordRaw> = [
  {
    path: '',
    redirect: (_) => {
      return { path: '/home' }
    },
  },
  {
    path: '/home',
    name: 'HelloWorld',
    component: HelloWorld,
  },
  {
    path: '/about',
    name: 'About', //Â routeÂ levelÂ code-splitting //Â thisÂ generatesÂ aÂ separateÂ chunkÂ (about.[hash].js)Â forÂ thisÂ route //Â whichÂ isÂ lazy-loadedÂ whenÂ theÂ routeÂ isÂ visited.
    component: () =>
      import(/*Â webpackChunkName:Â "About"Â */ '../components/About.vue'),
  },
  {
    path: '/:currentPath(.*)*', //Â è·¯ç”±æœªåŒ¹é…åˆ°ï¼Œè¿›å…¥è¿™ä¸ª
    redirect: (_) => {
      return { path: '/404' }
    },
  },
]
const router = createRouter({
  history: createWebHistory(''),
  routes,
  scrollBehavior(to, from, savedPosition) {
    return {
      el: '#app',
      top: 0,
      behavior: 'smooth',
    }
  },
})
export default router
```

åœ¨ `src` ç›®å½•ä¸‹å†æ–°å»ºä¸€ä¸ª `components/About.vue` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```html
<template>
  <h1>{{Â msgÂ }}</h1>
</template>
<script lang="ts">
  import { defineComponent } from 'vue'
  export default defineComponent({
    name: 'About',
    data() {
      return {
        msg: 'AboutÂ Page',
      }
    },
    setup() {},
  })
</script>
```

### `vuex`

åœ¨ `src` ç›®å½•ä¸‹åˆ›å»º `store/index.ts`

```js
import { InjectionKey } from 'vue'
import { createStore, Store } from 'vuex'

export interface State {
  count: number;
}

export const key: InjectionKey<Store<State>> = Symbol()

export const store =
  createStore <
  State >
  {
    state() {
      return {
        count: 0,
      }
    },
    mutations: {
      increment(state) {
        state.count++
      },
    },
  }
```

æœ€åä¿®æ”¹ä¸‹ `App.vue`

```js
<template>
Â Â <imgÂ alt="VueÂ logo"Â src="./assets/logo.png"Â />
Â Â <router-viewÂ />
</template>
<scriptÂ lang="ts">
importÂ {Â defineComponentÂ }Â fromÂ 'vue'
importÂ HelloWorldÂ fromÂ './components/HelloWorld.vue'
exportÂ defaultÂ defineComponent({
Â Â name:Â 'App',
Â Â components:Â {
Â Â Â Â HelloWorld
Â Â }
})
</script>
<style>
#appÂ {
Â Â font-family:Â Avenir,Â Helvetica,Â Arial,Â sans-serif;
Â Â -webkit-font-smoothing:Â antialiased;
Â Â -moz-osx-font-smoothing:Â grayscale;
Â Â text-align:Â center;
Â Â color:Â #2c3e50;
Â Â margin-top:Â 60px;
}
</style>
```

è¿è¡Œä¹‹åï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢`http://localhost:3000/home`
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-8.png" alt="å›¾ç‰‡">

`about` é¡µé¢ `http://localhost:3000/about`
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-9.png" alt="å›¾ç‰‡">

## å®‰è£… `element-plus`

```
npm install element-plus --save
```

### æŒ‰éœ€å¼•å…¥

ä¿®æ”¹ `main.ts`

```js
import { createApp } from 'vue'
import { store, key } from './store'
import router from './router'
import App from './App.vue'

import { ElButton } from 'element-plus'

const app = createApp(App)

app.component(ElButton.name, ElButton)

app.use(store, key)
app.use(router)
app.mount('#app')
```

æ ·å¼æŒ‰é’®å¼•å…¥å¯ä»¥ä½¿ç”¨æ’ä»¶ `vite-plugin-style-import`

- å®‰è£… `npm i vite-plugin-style-import -D`
- ä¿®æ”¹ `vite.config.ts`

```js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import styleImport from 'vite-plugin-style-import'
//Â https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    styleImport({
      libs: [
        {
          libraryName: 'element-plus',
          esModule: true,
          resolveStyle: (name) => {
            return `element-plus/lib/theme-chalk/${name}.css` // æŒ‰éœ€å¼•å…¥æ ·å¼
          },
        },
      ],
    }),
  ],
})
```

åœ¨ `About.vue` é¡µé¢ä½¿ç”¨

```html
<template>
  <h1>{{Â msgÂ }}</h1>
  <el-button type="primary">element-plusæŒ‰é’®</el-button>
</template>
<script lang="ts">
  import { defineComponent } from 'vue'
  export default defineComponent({
    name: 'About',
    data() {
      return {
        msg: 'AboutÂ Page',
      }
    },
    setup() {},
  })
</script>
```

æ­¤æ—¶è®¿é—® `http://localhost:3000/about`ï¼Œå¯ä»¥çœ‹åˆ°æŒ‰é’®å·²ç»å‡ºæ¥äº†
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-10.png" alt="å›¾ç‰‡">

## å†™åœ¨æœ€å

ç›®å‰ `vue3.x` çš„ç”Ÿæ€ç¯å¢ƒåœ¨ä¸æ–­å®Œå–„ï¼Œä½¿ç”¨ vite å¼€å‘æ—¶ï¼Œå¯ä»¥åœ¨`npm`ä¸Šæœ `vite-`ï¼Œé‡Œé¢è¿˜æ˜¯æœ‰å¾ˆå¤šèƒ½ç”¨çš„ vite æ’ä»¶ï¼Œæ¯”å¦‚`vite-plugin-mockit`ï¼Œ`vite-svg-loader` ...
<img src="https://raw.githubusercontent.com/coderlyu/au-blog/master/docs/.vuepress/public/images/blogs/vite-11.png" alt="å›¾ç‰‡">

- åŒæ—¶å¯ä»¥å¤šå…³æ³¨ `vue3.x` å®˜ç½‘ `https://v3.vuejs.org/guide/introduction.html`
- `vuex4.x` å®˜ç½‘ï¼š`https://next.vuex.vuejs.org/`
- `vue-router4.x` å®˜ç½‘ï¼š`https://next.router.vuejs.org/guide/`
- `vite2.x` å®˜ç½‘ï¼š`https://vitejs.dev/config/`

åšä¸»å­¦ä¹ çš„æ—¶å€™ä¹Ÿæ˜¯ç¿»è¿™äº›å†…å®¹å»å­¦ä¹ ï¼Œå¦‚æœæœ‰å¿ƒçš„è¯ï¼Œä¸Šé¢çš„ä»£ç ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥åœ¨è¿™äº›å®˜ç½‘é‡Œé¢æ‰¾åˆ°ã€‚
**æºç åœ°å€ï¼š`https://github.com/coderlyu/vite-frontend-template`**
